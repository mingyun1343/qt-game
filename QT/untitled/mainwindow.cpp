#include "mainwindow.h"
#include "ui_mainwindow.h"
#include<qpushbutton.h>

int allmap[3][13][23]={
    {
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    },{
        {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,1,0,2,0,0,1,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,1,1,2,1,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,2,1,0,0,1,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,2,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,1,2,2,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,1,1,2,0,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    },{
        {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {0,0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,2,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1},
        {0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1},
        {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    }


};

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);

    int gamenum=2;

    QPushButton *all_label[13][23]={NULL};

    for(int i=0;i<=1280-55;i+=55){
        for(int j=0;j<=720-55;j+=55){

            if(allmap[gamenum-1][j/55][i/55]==1&&i<=22*55&&j<=12*55){
                all_label[j/55][i/55]=new QPushButton;
                all_label[j/55][i/55]->setParent(this);
                all_label[j/55][i/55]->move(i,j);
                all_label[j/55][i/55]->setFixedSize(55,55);
                all_label[j/55][i/55]->setIconSize(QSize(55,55));
                all_label[j/55][i/55]->setStyleSheet("QPushButton{border:0px;}");
                all_label[j/55][i/55]->setIcon(QIcon(":/res/wood.png"));


            }
            if(allmap[gamenum-1][j/55][i/55]==2&&i<=22*55&&j<=12*55){
                all_label[j/55][i/55]=new QPushButton;
                all_label[j/55][i/55]->setParent(this);
                all_label[j/55][i/55]->move(i,j);
                all_label[j/55][i/55]->setFixedSize(55,55);
                all_label[j/55][i/55]->setIconSize(QSize(55,55));
                all_label[j/55][i/55]->setStyleSheet("QPushButton{border:0px;}");
                all_label[j/55][i/55]->setIcon(QIcon(":/res/straw.png"));

            }
        }
    }

             all_label[0][6]->setIcon(QIcon(":/res/grass.png"));
}

MainWindow::~MainWindow()
{
    delete ui;
}
